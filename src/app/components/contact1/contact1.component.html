<section class="contact-section">
  <div class="container">

    <!-- Encabezado de la sección -->
    <div class="row">
      <div class="col-lg-8 offset-lg-2 text-center">
        <h2 class="section-title">Hablemos</h2>
        <p class="section-intro">
          ¿Tienes una idea o un proyecto en mente? Me encantaría escucharte. Rellena el formulario o contáctame a través de mis redes sociales.
        </p>
      </div>
    </div>

    <div class="row mt-5 align-items-stretch">
      <!-- Columna Izquierda: Información y Redes -->
<div class="col-lg-5">
  <div class="contact-info-wrapper">

    <div class="contact-info-item">
      <div class="icon-wrapper">
        <i class="bi bi-envelope"></i>
      </div>
      <div class="contact-text-content">
        <h4>Email</h4>
        <p>carlosgorospo&#64;gmail.com</p>
      </div>
    </div>

    <div class="contact-info-item">
      <div class="icon-wrapper">
        <i class="bi bi-telephone"></i>
      </div>
      <div class="contact-text-content">
        <h4>Teléfono</h4>
        <p>+34 640 64 65 30</p>
      </div>
    </div>

    <div class="contact-info-item">
      <div class="icon-wrapper">
        <i class="bi bi-geo-alt"></i>
      </div>
      <div class="contact-text-content">
        <h4>Ubicación</h4>
        <p>Madrid, España</p>
      </div>
    </div>

    <div class="social-links">
      <a href="https://github.com/CarlosGorostiaga" target="_blank" class="social-icon"><i class="bi bi-github"></i></a>
      <a href="#" target="_blank" class="social-icon"><i class="bi bi-linkedin"></i></a>
    </div>
  </div>
</div>

      <!-- Columna Derecha: Formulario -->
      <div class="col-lg-7 mt-5 mt-lg-0">
        <div class="form-wrapper">
          <!-- El formulario se vincula con la lógica de TypeScript -->
          <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">

            <!-- Fila Nombre y Teléfono -->
            <div class="row">
              <div class="col-md-6 form-group">
                <label for="nombre">Nombre</label>
                <input type="text" id="nombre" formControlName="nombre" placeholder="Tu nombre completo">
                <div *ngIf="contactForm.get('nombre')?.invalid && contactForm.get('nombre')?.touched" class="error-message">
                  El nombre es obligatorio.
                </div>
              </div>
              <div class="col-md-6 form-group">
                <label for="telefono">Teléfono</label>
                <input type="tel" id="telefono" formControlName="telefono" placeholder="Tu número de teléfono">
                 <div *ngIf="contactForm.get('telefono')?.invalid && contactForm.get('telefono')?.touched" class="error-message">
                  El teléfono es obligatorio.
                </div>
              </div>
            </div>

            <!-- Fila Correo y Presupuesto -->
            <div class="row">
              <div class="col-md-6 form-group">
                <label for="correo">Correo Electrónico</label>
                <input type="email" id="correo" formControlName="correo" placeholder="Tu email de contacto">
                <div *ngIf="contactForm.get('correo')?.invalid && contactForm.get('correo')?.touched" class="error-message">
                  <span *ngIf="contactForm.get('correo')?.errors?.['required']">El correo es obligatorio.</span>
                  <span *ngIf="contactForm.get('correo')?.errors?.['email']">Introduce un correo válido.</span>
                </div>
              </div>
               <div class="col-md-6 form-group">
                <label for="presupuesto">Presupuesto Estimado (€)</label>
                <input type="text" id="presupuesto" formControlName="presupuesto" placeholder="Ej: 1000 - 3000€">
                 <div *ngIf="contactForm.get('presupuesto')?.invalid && contactForm.get('presupuesto')?.touched" class="error-message">
                  El presupuesto es obligatorio.
                </div>
              </div>
            </div>

            <!-- Campo Ideas -->
            <div class="form-group">
              <label for="ideas">Cuéntame tu idea</label>
              <textarea id="ideas" formControlName="ideas" rows="6" placeholder="Describe tu proyecto, tus necesidades y cualquier detalle que consideres importante."></textarea>
              <div *ngIf="contactForm.get('ideas')?.invalid && contactForm.get('ideas')?.touched" class="error-message">
                  Cuéntame algo sobre tu idea.
              </div>
            </div>

            <!-- Mensaje de Estado y Botón de Envío -->
            <div class="text-center">
               <div *ngIf="statusMessage" class="status-message" [ngClass]="{'success': !isError, 'error': isError}">
                {{ statusMessage }}
              </div>
              <button type="submit" class="btn-submit" [disabled]="contactForm.invalid">Enviar Mensaje</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>